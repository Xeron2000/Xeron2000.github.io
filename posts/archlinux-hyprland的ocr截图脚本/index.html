<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Su 素</title>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22></svg>">
    <style>
        :root {
            --bg-color: #1a1a1a;
            --text-color: #e0e0e0;
            --meta-color: #a0a0a0;
            --link-color: #d0d0d0;
            --accent-color: #f0f0f0;
            --font-main: "Georgia", "Times New Roman", "Songti SC", "SimSun", serif;
            --font-mono: "Menlo", "Monaco", "Courier New", monospace;
        }

        * { box-sizing: border-box; }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: var(--font-main);
            line-height: 1.8;
            max-width: 700px;
            margin: 0 auto;
            padding: 40px 20px;
            font-size: 16px;
        }

         
        header {
            margin-bottom: 60px;
            padding-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: baseline;
        }

        .site-title {
            font-size: 1.5em;
            font-weight: bold;
            text-decoration: none;
            color: var(--text-color);
            letter-spacing: 1px;
        }

        nav a {
            margin-left: 20px;
            text-decoration: none;
            color: var(--meta-color);
            font-size: 0.9em;
            cursor: pointer;
        }

        nav a:hover, nav a.active {
            color: var(--text-color);
            text-decoration: underline;
        }

         
        a {
            color: var(--link-color);
            text-decoration: underline;
            text-decoration-thickness: 1px;
            text-underline-offset: 3px;
            transition: all 0.2s;
        }
        a:hover {
            background-color: rgba(208, 208, 208, 0.1);
        }

         
        .archive-list {
            list-style: none;
            padding: 0;
        }

        .archive-item {
            display: flex;
            align-items: baseline;
            margin-bottom: 16px;
            padding-bottom: 8px;
        }

        .archive-date {
            font-family: var(--font-mono);
            color: var(--meta-color);
            font-size: 0.85em;
            width: 110px;
            flex-shrink: 0;
        }

        .archive-title {
            font-weight: normal;
            text-decoration: none;
            cursor: pointer;
        }

         
        .post-header {
            margin-bottom: 40px;
            text-align: center;
        }

        .post-title {
            font-size: 2em;
            margin-bottom: 10px;
            line-height: 1.3;
        }

        .post-meta {
            font-family: var(--font-mono);
            color: var(--meta-color);
            font-size: 0.9em;
        }

        .post-content {
            text-align: justify;
        }

        .post-content p {
            margin-bottom: 1.5em;
        }

        .post-content h2 {
            font-size: 1.4em;
            margin-top: 2em;
            margin-bottom: 1em;
        }

        .post-content blockquote {
            margin: 1.5em 0;
            padding: 1em 1.5em;
            background-color: rgba(255, 255, 255, 0.05);
            font-style: italic;
            color: var(--meta-color);
        }

        .post-content blockquote p {
            margin-bottom: 0;
        }

         
        .about-section {
            margin-bottom: 50px;
        }

        .friends-list {
            list-style: none;
            padding: 0;
            margin-top: 20px;
        }

        .friend-item {
            margin-bottom: 15px;
        }

        .friend-item a {
            font-weight: bold;
            margin-right: 10px;
        }

        .friend-desc {
            color: var(--meta-color);
            font-size: 0.9em;
        }

         
        footer {
            margin-top: 80px;
            padding-top: 20px;
            text-align: center;
            font-size: 0.8em;
            color: var(--meta-color);
            font-family: var(--font-mono);
        }

         
        .post-content pre,
        .post-content .highlight {
            position: relative;
            background-color: #2d2d2d;
            border-radius: 6px;
            padding: 16px;
            margin: 1.5em 0;
            overflow-x: auto;
            font-family: var(--font-mono);
            font-size: 0.9em;
            line-height: 1.5;
        }

        .post-content pre code,
        .post-content .highlight pre {
            display: block;
            white-space: pre-wrap;
            word-wrap: break-word;
            word-break: break-all;
            color: var(--text-color);
            background: none;
            padding: 0;
            margin: 0;
        }

         
        .post-content .highlight pre {
            background: none !important;
            color: var(--text-color) !important;
        }

        .post-content .highlight pre code span {
            display: inline;
        }

  
         
        .post-content :not(pre) > code {
            background-color: #404040;
            padding: 0.2em 0.4em;
            border-radius: 3px;
            font-family: var(--font-mono);
            font-size: 0.9em;
            color: var(--text-color);
        }
    </style>
</head>
<body>
    <header>
    <a href="https://blog.040304.xyz/" class="site-title">Su 素</a>
    <nav>
        <a href="https://blog.040304.xyz/">首页</a>
        <a href="https://blog.040304.xyz/about/">关于 & 友链</a>
    </nav>
</header>

    <main id="app">
        
<article>
    <div class="post-header">
        <h1 class="post-title">ArchLinux Hyprland的OCR截图脚本</h1>
        <div class="post-meta">发布于 2024-10-16</div>
    </div>
    <div class="post-content">
        <h1 id="archlinux-hyprland的-ocr-截图脚本">ArchLinux Hyprland的 OCR 截图脚本</h1>
<p>在hyprland一直没找到舒服的OCR的软件，先使用这个脚本代替一下</p>
<h2 id="所需软件">所需软件</h2>
<p>要运行 <code>ocr_screenshot.sh</code> 脚本，需要安装以下软件包：</p>
<ol>
<li><strong>Tesseract</strong>：用于从图像中提取文本的 OCR 引擎</li>
<li><strong>Grim</strong>：在 Wayland 中截取屏幕的工具</li>
<li><strong>Slurp</strong>：在 Wayland 中选择屏幕区域的工具</li>
<li><strong>wl-clipboard</strong>：用于在 Wayland 中操作剪贴板的工具</li>
</ol>
<h3 id="安装命令">安装命令</h3>
<p>在终端中运行以下命令以安装所需的软件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo pacman -S tesseract grim slurp wl-clipboard
</span></span></code></pre></div><h3 id="脚本内容">脚本内容</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Take a screenshot with Grim and Slurp</span>
</span></span><span style="display:flex;"><span>grim -g <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>slurp<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span> /tmp/screenshot.png
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Perform OCR with both Chinese and English language support and copy the result to clipboard</span>
</span></span><span style="display:flex;"><span>tesseract /tmp/screenshot.png - -l chi_sim+eng | wl-copy
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Optionally, remove the screenshot file</span>
</span></span><span style="display:flex;"><span>rm /tmp/screenshot.png
</span></span></code></pre></div><h3 id="赋予执行权限和移动脚本">赋予执行权限和移动脚本</h3>
<ol>
<li>
<p>将 <code>ocr_screenshot.sh</code> 脚本保存到主目录（如 <code>~/ocr_screenshot.sh</code>）</p>
</li>
<li>
<p>赋予脚本执行权限：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>chmod +x ~/ocr_screenshot.sh
</span></span></code></pre></div></li>
<li>
<p>移动脚本到 <code>/usr/local/bin</code> 目录：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo mv ~/ocr_screenshot.sh /usr/local/bin/
</span></span></code></pre></div></li>
</ol>
<h2 id="hyprland-配置">Hyprland 配置</h2>
<ol>
<li>
<p>打开Hyprland 配置文件，通常位于 <code>~/.config/hypr/hyprland.conf</code></p>
</li>
<li>
<p>添加以下行，将 <code>SUPER + O</code> 键组合绑定为执行 <code>ocr_screenshot.sh</code> 脚本：</p>
<pre tabindex="0"><code>bind = SUPER, O, exec, ocr_screenshot.sh
</code></pre></li>
</ol>

    </div>
    <div style="margin-top:50px; text-align:center;">
        <a href="https://blog.040304.xyz/" style="cursor:pointer; font-family:var(--font-mono)">← 返回列表</a>
    </div>
</article>

    </main>

    <footer>
    &copy; 2025 Su 素. Text Only.
</footer>

    </body>
</html>